{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/order.service\";\nimport * as i2 from \"src/app/services/customer.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"ngx-filter-pipe\";\n\nfunction OrderUpdateComponent_option_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", item_r1.name, \" \");\n  }\n}\n\nexport let OrderUpdateComponent = /*#__PURE__*/(() => {\n  class OrderUpdateComponent {\n    constructor(orderService, customerService, route, router) {\n      this.orderService = orderService;\n      this.customerService = customerService;\n      this.route = route;\n      this.router = router;\n      this.customerFilter = {\n        name: ''\n      };\n      this.order = {\n        creationDate: null,\n        status: null,\n        customer: {\n          name: '',\n          phoneNumber: '',\n          email: '',\n          cpf: '',\n          city: '',\n          address: '',\n          cep: ''\n        },\n        items: [],\n        labors: [],\n        amount: null\n      };\n      this.customer = {\n        name: '',\n        phoneNumber: '',\n        email: '',\n        cpf: '',\n        city: '',\n        address: '',\n        cep: ''\n      };\n    }\n\n    ngOnInit() {\n      const id = this.route.snapshot.paramMap.get('id_order');\n      this.orderService.readById(id).subscribe(response => {\n        this.order = response;\n        this.id = this.order.id.toString();\n      });\n      this.customerService.readAll().subscribe(response => {\n        this.customers = response;\n      });\n    }\n\n    orderUpdate() {\n      this.orderService.update(this.order).subscribe(() => {\n        this.orderService.showMessage('Sistema', \"Ordem Atualizada com sucesso!\", 'toast-success');\n        this.router.navigate([`/orders/create/${this.id}`]);\n      });\n    }\n\n    cancel() {\n      this.router.navigate([`/orders/create/${this.id}`]);\n    }\n\n  }\n\n  OrderUpdateComponent.ɵfac = function OrderUpdateComponent_Factory(t) {\n    return new (t || OrderUpdateComponent)(i0.ɵɵdirectiveInject(i1.OrderService), i0.ɵɵdirectiveInject(i2.CustomerService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n  };\n\n  OrderUpdateComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OrderUpdateComponent,\n    selectors: [[\"app-order-update\"]],\n    decls: 34,\n    vars: 7,\n    consts: [[1, \"container\"], [1, \"form-label\"], [1, \"form-row\"], [1, \"search\", \"form-group\", \"col-md-6\"], [\"type\", \"text\", \"placeholder\", \"Buscar..\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\", \"col-md-8\"], [\"id\", \"inputState\", \"name\", \"status\", 1, \"form-control\"], [4, \"ngFor\", \"ngForOf\"], [1, \"form-group\", \"col-md-4\"], [\"id\", \"inputState\", \"name\", \"status\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"selected\", \"\", \"label\", \"Aguardando\", \"value\", \"AGUARDANDO\"], [\"value\", \"PAGA\"], [\"value\", \"ENTREGUE\"], [\"value\", \"CANCELADA\"], [\"value\", \"ATRASADA\"], [\"type\", \"datetime-local\", \"name\", \"creationDate\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 1, \"btn\", \"btn-light\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"]],\n    template: function OrderUpdateComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h4\");\n        i0.ɵɵtext(2, \"Atualizar Ordem De Servi\\u00E7o\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"label\", 1);\n        i0.ɵɵtext(4, \"Nome do Cliente\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 2)(6, \"div\", 3)(7, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function OrderUpdateComponent_Template_input_ngModelChange_7_listener($event) {\n          return ctx.customerFilter.name = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 5)(9, \"select\", 6);\n        i0.ɵɵtemplate(10, OrderUpdateComponent_option_10_Template, 2, 1, \"option\", 7);\n        i0.ɵɵpipe(11, \"filterBy\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(12, \"div\", 2)(13, \"div\", 8)(14, \"label\", 1);\n        i0.ɵɵtext(15, \"Situa\\u00E7\\u00E3o da Ordem\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"select\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function OrderUpdateComponent_Template_select_ngModelChange_16_listener($event) {\n          return ctx.order.status = $event;\n        });\n        i0.ɵɵelement(17, \"option\", 10);\n        i0.ɵɵelementStart(18, \"option\", 11);\n        i0.ɵɵtext(19, \" Paga \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"option\", 12);\n        i0.ɵɵtext(21, \" Entregue \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"option\", 13);\n        i0.ɵɵtext(23, \" Cancelada \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"option\", 14);\n        i0.ɵɵtext(25, \" Atrasada \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(26, \"div\", 8)(27, \"label\");\n        i0.ɵɵtext(28, \"Data de Cria\\u00E7\\u00E3o\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"input\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function OrderUpdateComponent_Template_input_ngModelChange_29_listener($event) {\n          return ctx.order.creationDate = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(30, \"button\", 16);\n        i0.ɵɵlistener(\"click\", function OrderUpdateComponent_Template_button_click_30_listener() {\n          return ctx.orderUpdate();\n        });\n        i0.ɵɵtext(31, \"Atualizar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function OrderUpdateComponent_Template_button_click_32_listener() {\n          return ctx.cancel();\n        });\n        i0.ɵɵtext(33, \"Voltar\");\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.customerFilter.name);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(11, 4, ctx.customers, ctx.customerFilter));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.order.status);\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngModel\", ctx.order.creationDate);\n      }\n    },\n    directives: [i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i5.NgForOf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.SelectControlValueAccessor],\n    pipes: [i6.FilterPipe],\n    styles: [\".btn-success[_ngcontent-%COMP%]{background-color:#1cc88a;margin-right:1rem}.table[_ngcontent-%COMP%]{width:100%}h4[_ngcontent-%COMP%]{margin-bottom:2rem}.edit[_ngcontent-%COMP%]{margin-right:.8rem}.delete[_ngcontent-%COMP%]{color:brown}.btn-primary[_ngcontent-%COMP%]{color:#fff;padding:10px 30px}.btn-light[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff;padding:10px 25px;margin-right:.8rem}\"]\n  });\n  return OrderUpdateComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}