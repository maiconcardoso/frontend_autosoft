{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/order.service\";\nimport * as i3 from \"ngx-bootstrap/modal\";\nimport * as i4 from \"@angular/common\";\n\nfunction OrderDeleteComponent_tr_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const row_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", row_r4.product.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", row_r4.product.groupFamily, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", row_r4.quantity, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(9, 5, row_r4.product.price, \"BRL\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(12, 8, row_r4.subTotal, \"BRL\"), \" \");\n  }\n}\n\nfunction OrderDeleteComponent_tr_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const row_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", row_r5.labor.description, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", row_r5.labor.groupFamily, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", row_r5.quantity, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(9, 5, row_r5.labor.price, \"BRL\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(12, 8, row_r5.subTotal, \"BRL\"), \" \");\n  }\n}\n\nfunction OrderDeleteComponent_ng_template_59_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function OrderDeleteComponent_ng_template_59_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.confirm();\n    });\n    i0.ɵɵtext(4, \"Sim\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function OrderDeleteComponent_ng_template_59_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.decline();\n    });\n    i0.ɵɵtext(6, \"N\\u00E3o\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Deseja realmente excluir a Ordem do cliente \", ctx_r3.order.customer.name, \"?\");\n  }\n}\n\nexport let OrderDeleteComponent = /*#__PURE__*/(() => {\n  class OrderDeleteComponent {\n    constructor(router, orderService, route, modalService) {\n      this.router = router;\n      this.orderService = orderService;\n      this.route = route;\n      this.modalService = modalService;\n      this.order = {\n        creationDate: new Date(),\n        status: null,\n        customer: {\n          name: '',\n          phoneNumber: '',\n          cpf: '',\n          email: '',\n          city: '',\n          address: '',\n          cep: ''\n        },\n        items: [],\n        labors: [],\n        amount: null\n      };\n    }\n\n    ngOnInit() {\n      const id = this.route.snapshot.paramMap.get('id_order');\n      this.orderService.readById(id).subscribe(response => {\n        this.order = response;\n      });\n    }\n\n    deleteOrder(template) {\n      this.modalRef = this.modalService.show(template, {\n        class: 'modal-sm'\n      });\n\n      if (this.confirm()) {\n        this.orderService.delete(this.order).subscribe(() => {\n          this.orderService.showMessage('Sistema', 'Ordem deletada com sucesso!', 'toast-success');\n          this.router.navigate(['/orders']);\n        });\n      } else {\n        this.decline();\n      }\n    }\n\n    backToListOrders() {\n      this.router.navigate(['orders']);\n    }\n\n    confirm() {\n      this.modalRef.hide();\n      return true;\n    }\n\n    decline() {\n      this.modalRef.hide();\n      return false;\n    }\n\n  }\n\n  OrderDeleteComponent.ɵfac = function OrderDeleteComponent_Factory(t) {\n    return new (t || OrderDeleteComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.OrderService), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i3.BsModalService));\n  };\n\n  OrderDeleteComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OrderDeleteComponent,\n    selectors: [[\"app-order-delete\"]],\n    decls: 63,\n    vars: 11,\n    consts: [[1, \"container\"], [1, \"buttons\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [\"id\", \"table\", 1, \"table\", \"table-sm\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"colspan\", \"3\"], [\"template\", \"\"], [1, \"modal-body\", \"text-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-default\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"]],\n    template: function OrderDeleteComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r9 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\");\n        i0.ɵɵtext(2, \"Deletar Ordem De Servi\\u00E7o\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function OrderDeleteComponent_Template_button_click_4_listener() {\n          i0.ɵɵrestoreView(_r9);\n\n          const _r2 = i0.ɵɵreference(60);\n\n          return ctx.deleteOrder(_r2);\n        });\n        i0.ɵɵtext(5, \" Deletar \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function OrderDeleteComponent_Template_button_click_6_listener() {\n          return ctx.backToListOrders();\n        });\n        i0.ɵɵtext(7, \" Voltar \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"table\", 4)(9, \"thead\")(10, \"tr\")(11, \"th\", 5);\n        i0.ɵɵtext(12, \"Cliente\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"th\", 5);\n        i0.ɵɵtext(14, \"Data de Cria\\u00E7\\u00E3o\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(15, \"tbody\")(16, \"tr\")(17, \"td\");\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"td\");\n        i0.ɵɵtext(20);\n        i0.ɵɵpipe(21, \"date\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(22, \"br\");\n        i0.ɵɵelementStart(23, \"thead\")(24, \"tr\")(25, \"th\", 5);\n        i0.ɵɵtext(26, \"Produto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"th\", 5);\n        i0.ɵɵtext(28, \"Grupo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"th\", 5);\n        i0.ɵɵtext(30, \"Quantidade\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"th\", 5);\n        i0.ɵɵtext(32, \"Valor Unit\\u00E1rio\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"th\", 5);\n        i0.ɵɵtext(34, \"SubTotal\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(35, \"tbody\");\n        i0.ɵɵtemplate(36, OrderDeleteComponent_tr_36_Template, 13, 11, \"tr\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"thead\")(38, \"tr\")(39, \"th\", 5);\n        i0.ɵɵtext(40, \"Servi\\u00E7o\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"th\", 5);\n        i0.ɵɵtext(42, \"Grupo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"th\", 5);\n        i0.ɵɵtext(44, \"Quantidade\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"th\", 5);\n        i0.ɵɵtext(46, \"Valor Unit\\u00E1rio\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"th\", 5);\n        i0.ɵɵtext(48, \"SubTotal\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(49, \"tbody\");\n        i0.ɵɵtemplate(50, OrderDeleteComponent_tr_50_Template, 13, 11, \"tr\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"tbody\")(52, \"tr\");\n        i0.ɵɵelement(53, \"td\", 7);\n        i0.ɵɵelementStart(54, \"th\", 5);\n        i0.ɵɵtext(55, \"Valor Total\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"td\");\n        i0.ɵɵtext(57);\n        i0.ɵɵpipe(58, \"currency\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(59, OrderDeleteComponent_ng_template_59_Template, 7, 1, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(61, \"br\")(62, \"br\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(18);\n        i0.ɵɵtextInterpolate1(\" \", ctx.order.customer.name, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(21, 5, ctx.order.creationDate, \"dd/MM/yyyy\"), \" \");\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngForOf\", ctx.order.items);\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"ngForOf\", ctx.order.labors);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(58, 8, ctx.order.amount, \"BRL\"), \" \");\n      }\n    },\n    directives: [i4.NgForOf],\n    pipes: [i4.DatePipe, i4.CurrencyPipe],\n    styles: [\".container[_ngcontent-%COMP%]{align-items:center;width:50rem}.buttons[_ngcontent-%COMP%]{margin-top:1.8rem;margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{margin-right:1rem}\"]\n  });\n  return OrderDeleteComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}